package com.saveourtool.save.entitiescosv

import com.saveourtool.save.spring.entity.BaseEntity
import javax.persistence.*

/**
 * @property vulnerabilityMetadataId
 * @property userId in vulnerability with [vulnerabilityMetadataId]
 */
@Entity
@Suppress("KDOC_NO_CONSTRUCTOR_PROPERTY_WITH_COMMENT")
@Table(schema = "cosv", name = "lnk_vulnerability_metadata_user")
class LnkVulnerabilityMetadataUser(
    // Fetching two or more Bags(List) at the same time on an Entity could form a Cartesian Product. Since a Bag doesn't have an order,
    // Hibernate would not be able to map the right columns to the right entities. Hence, in this case, it throws a MultipleBagFetchException.
    // Link to docs: https://www.baeldung.com/java-hibernate-multiplebagfetchexception#cause-of-multiplebagfetchexception
    @Column(name = "vulnerability_metadata_id")
    var vulnerabilityMetadataId: Long,

    @Column(name = "user_id")
    var userId: Long,

) : BaseEntity()
