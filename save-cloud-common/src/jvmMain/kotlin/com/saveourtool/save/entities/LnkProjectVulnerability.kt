package com.saveourtool.save.entities

import com.saveourtool.save.entities.vulnerabilities.Vulnerability
import com.saveourtool.save.spring.entity.BaseEntityWithDateAndDto
import javax.persistence.Entity
import javax.persistence.JoinColumn
import javax.persistence.ManyToOne

/**
 * @property project project in save-cloud
 * @property vulnerability in this project
 * @property userId record creator
 */
@Entity
class LnkProjectVulnerability(

    @ManyToOne
    @JoinColumn(name = "project_id")
    var project: Project,

    @ManyToOne
    @JoinColumn(name = "vulnerability_id")
    var vulnerability: Vulnerability,

    var userId: Long,

) : BaseEntityWithDateAndDto<LnkProjectVulnerabilityDto>() {
    override fun toDto() = LnkProjectVulnerabilityDto(
        project = project.toDto(),
        vulnerability = vulnerability.toDto(),
    )
}
