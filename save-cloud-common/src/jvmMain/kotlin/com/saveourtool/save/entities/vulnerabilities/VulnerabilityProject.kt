package com.saveourtool.save.entities.vulnerabilities

import com.saveourtool.save.entities.vulnerability.VulnerabilityProjectDto
import com.saveourtool.save.spring.entity.BaseEntityWithDto

import com.fasterxml.jackson.annotation.JsonBackReference

import javax.persistence.*

/**
 * Class with projects of common vulnerabilities.
 *
 * @property name name of project with vulnerability
 * @property url url of project
 * @property isOpenSource is the project open source
 * @property vulnerability id of vulnerability
 **/
@Entity
class VulnerabilityProject(

    var name: String,

    var url: String,

    var isOpenSource: Boolean,

    @ManyToOne
    @JoinColumn(name = "vulnerability_id")
    @JsonBackReference
    var vulnerability: Vulnerability,

) : BaseEntityWithDto<VulnerabilityProjectDto>() {
    /**
     * @return a vulnerabilityProject dto
     */
    override fun toDto() = VulnerabilityProjectDto(
        name = name,
        url = url,
        isOpenSource = isOpenSource,
    )
}
